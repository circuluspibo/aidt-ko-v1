<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>í•œê¸€ ì“°ê¸° ì—°ìŠµ - íŠ¹ìˆ˜ ì•„ë™ í•œê¸€ êµìœ¡</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        body {
            font-family: 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            font-size: 20px;
            color: #1e293b;
            overflow: hidden;
            touch-action: manipulation;
        }

        .main-container {
            display: grid;
            grid-template-columns: 1fr 3fr;
            height: 100vh;
            gap: 25px;
            padding: 25px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .ai-tutor-sidebar {
            background: white;
            border-radius: 25px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
            border: 4px solid #3b82f6;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            min-width: 320px;
        }

        .tutor-header {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }

        .tutor-avatar {
            width: 70px;
            height: 70px;
            background: white;
            border-radius: 50%;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 35px;
            border: 4px solid #60a5fa;
            animation: gentle-bounce 3s ease-in-out infinite;
        }

        @keyframes gentle-bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .tutor-name {
            font-size: 22px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .tutor-status {
            font-size: 14px;
            opacity: 0.9;
        }

        .tutor-body {
            flex: 1;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }

        .tutor-message {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            padding: 18px;
            border-radius: 15px;
            margin-bottom: 20px;
            border-left: 4px solid #3b82f6;
            font-size: 16px;
            line-height: 1.5;
            min-height: 120px;
            display: flex;
            align-items: center;
        }

        /* í† ê¸€ ì œì–´ ì˜ì—­ */
        .toggle-section {
            background: #f8fafc;
            border-radius: 15px;
            border: 2px solid #e2e8f0;
            margin-bottom: 15px;
        }

        .toggle-header {
            padding: 12px 15px;
            background: #e2e8f0;
            border-radius: 13px 13px 0 0;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: bold;
            font-size: 14px;
        }

        .toggle-content {
            padding: 15px;
            display: none;
        }

        .toggle-content.show {
            display: block;
        }

        .toggle-arrow {
            transition: transform 0.3s ease;
        }

        .toggle-arrow.rotate {
            transform: rotate(180deg);
        }

        /* í•™ìŠµ ë ˆë²¨ ì„ íƒ */
        .level-title {
            font-size: 16px;
            font-weight: bold;
            color: #374151;
            margin-bottom: 10px;
        }

        .level-buttons {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .level-btn {
            padding: 12px;
            border: none;
            border-radius: 10px;
            background: white;
            border: 2px solid #d1d5db;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .level-btn.active {
            background: #3b82f6;
            color: white;
            border-color: #3b82f6;
        }

        .level-btn:hover {
            border-color: #3b82f6;
            background: #f0f9ff;
        }

        /* ë°˜ë³µ ì„¤ì • ì˜ì—­ */
        .setting-group {
            margin-bottom: 12px;
        }

        .setting-label {
            font-size: 14px;
            font-weight: bold;
            color: #374151;
            margin-bottom: 6px;
            display: block;
        }

        .setting-controls {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .repeat-counter {
            background: white;
            border: 2px solid #d1d5db;
            border-radius: 8px;
            padding: 6px 12px;
            font-size: 16px;
            font-weight: bold;
            min-width: 50px;
            text-align: center;
        }

        .adjust-btn {
            width: 35px;
            height: 35px;
            border: none;
            border-radius: 8px;
            background: #3b82f6;
            color: white;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            touch-action: manipulation;
        }

        /* ë°ì´í„° í‘œì‹œ ì˜ì—­ */
        .data-display {
            background: #f1f5f9;
            border-radius: 10px;
            padding: 10px;
            font-size: 12px;
            color: #64748b;
        }

        .data-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }

        .tutor-controls {
            display: flex;
            gap: 10px;
            margin-top: auto;
        }

        .tutor-btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 12px;
            background: #3b82f6;
            color: white;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            touch-action: manipulation;
            transition: all 0.2s ease;
        }

        .tutor-btn:active {
            transform: scale(0.95);
            background: #2563eb;
        }

        /* ë©”ì¸ í•™ìŠµ ì˜ì—­ */
        .main-learning-area {
            background: white;
            border-radius: 25px;
            padding: 30px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
            border: 3px solid #e2e8f0;
            display: flex;
            flex-direction: column;
        }

        .learning-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding: 20px;
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            border-radius: 20px;
            color: white;
        }

        .lesson-info {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .lesson-title {
            font-size: 24px;
            font-weight: bold;
        }

        .lesson-subtitle {
            font-size: 16px;
            opacity: 0.9;
        }

        .progress-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .progress-bar {
            width: 150px;
            height: 20px;
            background: rgba(255,255,255,0.3);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: white;
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        .repeat-status {
            background: rgba(255,255,255,0.2);
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 14px;
        }

        /* ì“°ê¸° ì—°ìŠµ ì˜ì—­ */
        .writing-area {
            flex: 1;
            background: #f8fafc;
            border-radius: 20px;
            padding: 30px;
            border: 2px solid #e2e8f0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            min-height: 500px;
        }

        .letter-display-section {
            display: flex;
            gap: 30px;
            margin-bottom: 30px;
            align-items: center;
        }

        .target-letter {
            font-size: 120px;
            font-weight: bold;
            color: #1e293b;
            background: white;
            padding: 40px;
            border-radius: 25px;
            border: 4px solid #3b82f6;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 200px;
            min-height: 200px;
            position: relative;
        }

        .hint-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .hint-image {
            width: 120px;
            height: 120px;
            background: #f0f9ff;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            border: 3px solid #3b82f6;
            align-self: center;
        }

        .hint-text {
            background: white;
            padding: 15px;
            border-radius: 15px;
            border: 2px solid #e2e8f0;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            color: #374151;
        }

        .writing-canvas-section {
            background: white;
            border-radius: 20px;
            padding: 20px;
            border: 3px solid #d1d5db;
            margin-bottom: 30px;
        }

        .canvas-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .canvas-title {
            font-size: 18px;
            font-weight: bold;
            color: #374151;
        }

        .canvas-controls {
            display: flex;
            gap: 10px;
        }

        .canvas-btn {
            padding: 8px 15px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .canvas-btn.clear {
            background: #ef4444;
            color: white;
        }

        .canvas-btn.guide {
            background: #10b981;
            color: white;
        }

        .canvas-container {
            position: relative;
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            overflow: hidden;
        }

        #writingCanvas {
            display: block;
            cursor: crosshair;
            background: #fafafa;
        }

        .guide-overlay {
            position: absolute;
            top: 0;
            left: 0;
            pointer-events: none;
            opacity: 0.3;
            font-size: 300px;
            font-weight: bold;
            color: #d1d5db;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
        }

        .practice-choices {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }

        .choice-btn {
            padding: 20px;
            border: none;
            border-radius: 15px;
            background: white;
            border: 3px solid #d1d5db;
            font-size: 32px;
            font-weight: bold;
            cursor: pointer;
            touch-action: manipulation;
            transition: all 0.3s ease;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .choice-btn:hover {
            border-color: #3b82f6;
            background: #f0f9ff;
            transform: translateY(-2px);
        }

        .choice-btn.correct {
            background: #dcfce7;
            border-color: #22c55e;
            animation: correctPulse 0.8s ease;
        }

        .choice-btn.incorrect {
            background: #fef2f2;
            border-color: #ef4444;
            animation: shake 0.6s ease;
        }

        /* ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes correctPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); background: #bbf7d0; }
            100% { transform: scale(1); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        /* í•˜ë‹¨ ì•¡ì…˜ ë²„íŠ¼ë“¤ */
        .action-controls {
            display: flex;
            gap: 20px;
            margin-top: 30px;
        }

        .action-btn {
            flex: 1;
            padding: 18px;
            border: none;
            border-radius: 15px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            touch-action: manipulation;
            transition: all 0.3s ease;
        }

        .action-btn.primary {
            background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
            color: white;
        }

        .action-btn.secondary {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
        }

        .action-btn.next {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
        }

        .action-btn:active {
            transform: scale(0.95);
        }

        /* í”¼ë“œë°± ì˜¤ë²„ë ˆì´ */
        .feedback-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }

        .feedback-content {
            background: white;
            padding: 40px;
            border-radius: 25px;
            text-align: center;
            max-width: 400px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
        }

        .feedback-icon {
            font-size: 80px;
            margin-bottom: 20px;
        }

        .feedback-text {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 30px;
        }

        .feedback-btn {
            padding: 15px 30px;
            border: none;
            border-radius: 15px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            background: #3b82f6;
            color: white;
        }

        /* ë°˜ì‘í˜• ë””ìì¸ */
        @media (max-width: 1200px) {
            .main-container {
                grid-template-columns: 1fr 2fr;
                gap: 20px;
                padding: 20px;
            }
        }

        @media (max-width: 900px) {
            .main-container {
                grid-template-columns: 1fr;
                grid-template-rows: auto 1fr;
                gap: 15px;
                padding: 15px;
            }
            
            .ai-tutor-sidebar {
                max-height: 400px;
                min-width: auto;
            }
            
            .practice-choices {
                grid-template-columns: repeat(2, 1fr);
                gap: 12px;
            }

            .letter-display-section {
                flex-direction: column;
                gap: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <!-- AI íŠœí„° ì‚¬ì´ë“œë°” -->
        <div class="ai-tutor-sidebar">
            <div class="tutor-header">
                <div class="tutor-avatar">âœï¸</div>
                <div class="tutor-name">ì“°ê¸° ì„ ìƒë‹˜</div>
                <div class="tutor-status">í•¨ê»˜ ì¨ë´ìš”!</div>
            </div>
            <div class="tutor-body">
                <div class="tutor-message" id="tutorMessage">
                    ì•ˆë…•í•˜ì„¸ìš”! ì˜¤ëŠ˜ì€ í•œê¸€ ì“°ê¸°ë¥¼ ì—°ìŠµí•´ë´ìš”. 
                    ìº”ë²„ìŠ¤ì— ì§ì ‘ ì¨ë³´ê³ , ë¬¸ì œë„ í’€ì–´ë³´ì„¸ìš”! âœï¸âœ¨
                </div>
                
                <!-- í•™ìŠµ ë‹¨ê³„ ì„ íƒ (í† ê¸€) -->
                <div class="toggle-section">
                    <div class="toggle-header" onclick="toggleSection('levelSection')">
                        <span>ğŸ“š í•™ìŠµ ë‹¨ê³„ ì„ íƒ</span>
                        <span class="toggle-arrow" id="levelArrow">â–¼</span>
                    </div>
                    <div class="toggle-content" id="levelSection">
                        <div class="level-buttons">
                            <button class="level-btn active" onclick="selectLevel('consonant')">1ë‹¨ê³„: ììŒ ì“°ê¸°</button>
                            <button class="level-btn" onclick="selectLevel('vowel')">2ë‹¨ê³„: ëª¨ìŒ ì“°ê¸°</button>
                            <button class="level-btn" onclick="selectLevel('combination')">3ë‹¨ê³„: ê¸€ì ì“°ê¸°</button>
                            <button class="level-btn" onclick="selectLevel('word')">4ë‹¨ê³„: ë‹¨ì–´ ì“°ê¸°</button>
                        </div>
                    </div>
                </div>
                
                <!-- ë°˜ë³µ ì„¤ì • (í† ê¸€) -->
                <div class="toggle-section">
                    <div class="toggle-header" onclick="toggleSection('repeatSection')">
                        <span>ğŸ”„ ë°˜ë³µ ì„¤ì •</span>
                        <span class="toggle-arrow" id="repeatArrow">â–¼</span>
                    </div>
                    <div class="toggle-content" id="repeatSection">
                        <div class="setting-group">
                            <label class="setting-label">ë§ì·„ì„ ë•Œ ë°˜ë³µ</label>
                            <div class="setting-controls">
                                <button class="adjust-btn" onclick="adjustRepeat('correct', -1)">-</button>
                                <div class="repeat-counter" id="correctRepeat">3</div>
                                <button class="adjust-btn" onclick="adjustRepeat('correct', 1)">+</button>
                            </div>
                        </div>
                        <div class="setting-group">
                            <label class="setting-label">í‹€ë ¸ì„ ë•Œ ë°˜ë³µ</label>
                            <div class="setting-controls">
                                <button class="adjust-btn" onclick="adjustRepeat('incorrect', -1)">-</button>
                                <div class="repeat-counter" id="incorrectRepeat">5</div>
                                <button class="adjust-btn" onclick="adjustRepeat('incorrect', 1)">+</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- í•™ìŠµ ë°ì´í„° í‘œì‹œ (í† ê¸€) -->
                <div class="toggle-section">
                    <div class="toggle-header" onclick="toggleSection('dataSection')">
                        <span>ğŸ“Š í•™ìŠµ ë°ì´í„°</span>
                        <span class="toggle-arrow" id="dataArrow">â–¼</span>
                    </div>
                    <div class="toggle-content" id="dataSection">
                        <div class="data-display" id="learningData">
                            <div class="data-row">
                                <span>ì •ë‹µë¥ :</span>
                                <span id="accuracyRate">0%</span>
                            </div>
                            <div class="data-row">
                                <span>ì´ ë¬¸ì œ:</span>
                                <span id="totalProblems">0</span>
                            </div>
                            <div class="data-row">
                                <span>ë§ì¶˜ ë¬¸ì œ:</span>
                                <span id="correctProblems">0</span>
                            </div>
                            <div class="data-row">
                                <span>í‰ê·  ì‹œê°„:</span>
                                <span id="avgTime">0ì´ˆ</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tutor-controls">
                    <button class="tutor-btn" onclick="getTutorHelp()">ğŸ’¡ ë„ì›€ë§</button>
                    <button class="tutor-btn" onclick="clearCanvas()">ğŸ—‘ï¸ ì§€ìš°ê¸°</button>
                </div>
            </div>
        </div>

        <!-- ë©”ì¸ í•™ìŠµ ì˜ì—­ -->
        <div class="main-learning-area">
            <!-- ìƒë‹¨ í—¤ë” -->
            <div class="learning-header">
                <div class="lesson-info">
                    <div class="lesson-title" id="lessonTitle">ììŒ ì“°ê¸° ì—°ìŠµ</div>
                    <div class="lesson-subtitle" id="lessonSubtitle">ê¸°ì´ˆ ììŒ 'ã„±' ì“°ê¸° ì—°ìŠµ</div>
                </div>
                <div class="progress-info">
                    <div class="repeat-status" id="repeatStatus">ë°˜ë³µ: 1/3</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width: 10%"></div>
                    </div>
                </div>
            </div>

            <!-- ì“°ê¸° ì—°ìŠµ ì˜ì—­ -->
            <div class="writing-area">
                <!-- ê¸€ì í‘œì‹œ ë° íŒíŠ¸ -->
                <div class="letter-display-section">
                    <div class="target-letter" id="targetLetter">ã„±</div>
                    <div class="hint-section">
                        <div class="hint-image" id="hintImage">ğŸ±</div>
                        <div class="hint-text" id="hintText">ê³ ì–‘ì´ì˜ 'ã„±'</div>
                    </div>
                </div>

                <!-- ì“°ê¸° ìº”ë²„ìŠ¤ -->
                <div class="writing-canvas-section">
                    <div class="canvas-header">
                        <div class="canvas-title">âœï¸ ì§ì ‘ ì¨ë³´ì„¸ìš”!</div>
                        <div class="canvas-controls">
                            <button class="canvas-btn guide" onclick="toggleGuide()">ê°€ì´ë“œ</button>
                            <button class="canvas-btn clear" onclick="clearCanvas()">ì§€ìš°ê¸°</button>
                        </div>
                    </div>
                    <div class="canvas-container">
                        <canvas id="writingCanvas" width="600" height="300"></canvas>
                        <div class="guide-overlay" id="guideOverlay" style="display: none;">ã„±</div>
                    </div>
                </div>

                <!-- ë¬¸ì œ ì„ íƒì§€ -->
                <p style="font-size: 20px; margin-bottom: 20px; font-weight: bold; text-align: center;">
                    "<span id="targetChoice">ã„±</span>"ì„ ì°¾ì•„ë³´ì„¸ìš”!
                </p>
                
                <div class="practice-choices" id="practiceChoices">
                    <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
                </div>
            </div>

            <!-- í•˜ë‹¨ ì•¡ì…˜ ë²„íŠ¼ë“¤ -->
            <div class="action-controls">
                <button class="action-btn primary" onclick="markActivity(true)">âœ… ì˜í–ˆì–´ìš”!</button>
                <button class="action-btn secondary" onclick="markActivity(false)">âŒ ë‹¤ì‹œí•´ìš”</button>
                <button class="action-btn next" onclick="nextItem()">â¡ï¸ ë‹¤ìŒ í•™ìŠµ</button>
            </div>
        </div>
    </div>

    <!-- í”¼ë“œë°± ì˜¤ë²„ë ˆì´ -->
    <div class="feedback-overlay" id="feedbackOverlay">
        <div class="feedback-content">
            <div class="feedback-icon" id="feedbackIcon">ğŸ‰</div>
            <div class="feedback-text" id="feedbackText">ì •ë§ ì˜í–ˆì–´ìš”!</div>
            <button class="feedback-btn" onclick="closeFeedback()">ê³„ì†í•˜ê¸°</button>
        </div>
    </div>

    <script>
        // ì „ì—­ ìƒíƒœ ê´€ë¦¬
        let currentLevel = 'consonant';
        let currentItemIndex = 0;
        let currentRepeat = 1;
        let startTime = null;
        let guideVisible = false;
        let isDrawing = false;
        
        // ë°˜ë³µ ì„¤ì •
        let repeatSettings = {
            correct: 3,
            incorrect: 5
        };
        
        // í•™ìŠµ ë°ì´í„° ìˆ˜ì§‘
        let learningStats = {
            totalProblems: 0,
            correctProblems: 0,
            responseTimes: [],
            problemLog: []
        };
        
        // í•™ìŠµ ë°ì´í„°ë² ì´ìŠ¤ (íŒíŠ¸ ì´ë¯¸ì§€ í¬í•¨)
        const learningData = {
            consonant: [
                { letter: 'ã„±', name: 'ê¸°ì—­', sound: '[ã„±]', example: 'ê³ ì–‘ì´ì˜ ã„±', image: 'ğŸ±' },
                { letter: 'ã„´', name: 'ë‹ˆì€', sound: '[ã„´]', example: 'ë‚˜ë¹„ì˜ ã„´', image: 'ğŸ¦‹' },
                { letter: 'ã„·', name: 'ë””ê·¿', sound: '[ã„·]', example: 'ë‹¤ëŒì¥ì˜ ã„·', image: 'ğŸ¿ï¸' },
                { letter: 'ã„¹', name: 'ë¦¬ì„', sound: '[ã„¹]', example: 'ë¼ë©´ì˜ ã„¹', image: 'ğŸœ' },
                { letter: 'ã…', name: 'ë¯¸ìŒ', sound: '[ã…]', example: 'ëª¨ìì˜ ã…', image: 'ğŸ‘’' },
                { letter: 'ã…‚', name: 'ë¹„ì', sound: '[ã…‚]', example: 'ë°”ë‚˜ë‚˜ì˜ ã…‚', image: 'ğŸŒ' },
                { letter: 'ã……', name: 'ì‹œì˜·', sound: '[ã……]', example: 'ì‚¬ê³¼ì˜ ã……', image: 'ğŸ' },
                { letter: 'ã…‡', name: 'ì´ì‘', sound: '[ã…‡]', example: 'ì•„ê¸°ì˜ ã…‡', image: 'ğŸ‘¶' },
                { letter: 'ã…ˆ', name: 'ì§€ì’', sound: '[ã…ˆ]', example: 'ìë™ì°¨ì˜ ã…ˆ', image: 'ğŸš—' },
                { letter: 'ã…Š', name: 'ì¹˜ì“', sound: '[ã…Š]', example: 'ì¹˜í‚¨ì˜ ã…Š', image: 'ğŸ—' }
            ],
            vowel: [
                { letter: 'ã…', name: 'ì•„', sound: '[ì•„]', example: 'ì•„ê¸°ì˜ ã…', image: 'ğŸ‘¶' },
                { letter: 'ã…‘', name: 'ì•¼', sound: '[ì•¼]', example: 'ì•¼êµ¬ì˜ ã…‘', image: 'âš¾' },
                { letter: 'ã…“', name: 'ì–´', sound: '[ì–´]', example: 'ì–´ë¨¸ë‹ˆì˜ ã…“', image: 'ğŸ‘©' },
                { letter: 'ã…•', name: 'ì—¬', sound: '[ì—¬]', example: 'ì—¬ìš°ì˜ ã…•', image: 'ğŸ¦Š' },
                { letter: 'ã…—', name: 'ì˜¤', sound: '[ì˜¤]', example: 'ì˜¤ë¦¬ì˜ ã…—', image: 'ğŸ¦†' },
                { letter: 'ã…›', name: 'ìš”', sound: '[ìš”]', example: 'ìš”êµ¬ë¥´íŠ¸ì˜ ã…›', image: 'ğŸ¥›' },
                { letter: 'ã…œ', name: 'ìš°', sound: '[ìš°]', example: 'ìš°ìœ ì˜ ã…œ', image: 'ğŸ¥›' },
                { letter: 'ã… ', name: 'ìœ ', sound: '[ìœ ]', example: 'ìœ ë¦¬ì˜ ã… ', image: 'ğŸ¥ƒ' },
                { letter: 'ã…¡', name: 'ìœ¼', sound: '[ìœ¼]', example: 'ìœ¼ìŒì˜ ã…¡', image: 'ğŸ¤”' },
                { letter: 'ã…£', name: 'ì´', sound: '[ì´]', example: 'ì´ë¹¨ì˜ ã…£', image: 'ğŸ¦·' }
            ],
            combination: [
                { consonant: 'ã„±', vowel: 'ã…', result: 'ê°€', meaning: 'ê°€ë°©ì˜ ê°€', image: 'ğŸ’' },
                { consonant: 'ã„´', vowel: 'ã…', result: 'ë‚˜', meaning: 'ë‚˜ë¹„ì˜ ë‚˜', image: 'ğŸ¦‹' },
                { consonant: 'ã„·', vowel: 'ã…', result: 'ë‹¤', meaning: 'ë‹¤ëŒì¥ì˜ ë‹¤', image: 'ğŸ¿ï¸' },
                { consonant: 'ã„¹', vowel: 'ã…', result: 'ë¼', meaning: 'ë¼ë©´ì˜ ë¼', image: 'ğŸœ' },
                { consonant: 'ã…', vowel: 'ã…', result: 'ë§ˆ', meaning: 'ë§ˆìŒì˜ ë§ˆ', image: 'â¤ï¸' },
                { consonant: 'ã…‚', vowel: 'ã…', result: 'ë°”', meaning: 'ë°”ë‚˜ë‚˜ì˜ ë°”', image: 'ğŸŒ' },
                { consonant: 'ã……', vowel: 'ã…', result: 'ì‚¬', meaning: 'ì‚¬ê³¼ì˜ ì‚¬', image: 'ğŸ' },
                { consonant: 'ã…‡', vowel: 'ã…', result: 'ì•„', meaning: 'ì•„ê¸°ì˜ ì•„', image: 'ğŸ‘¶' },
                { consonant: 'ã…ˆ', vowel: 'ã…', result: 'ì', meaning: 'ìë™ì°¨ì˜ ì', image: 'ğŸš—' },
                { consonant: 'ã…Š', vowel: 'ã…', result: 'ì°¨', meaning: 'ì°¨ì˜ ì°¨', image: 'ğŸš—' }
            ],
            word: [
                { word: 'ê°€ë°©', syllables: ['ê°€', 'ë°©'], image: 'ğŸ’', meaning: 'ì±…ì„ ë„£ëŠ” ê²ƒ' },
                { word: 'ë‚˜ë¹„', syllables: ['ë‚˜', 'ë¹„'], image: 'ğŸ¦‹', meaning: 'ì˜ˆìœ ë‚ ê°œê°€ ìˆëŠ” ê³¤ì¶©' },
                { word: 'ë‹¤ë¦¬', syllables: ['ë‹¤', 'ë¦¬'], image: 'ğŸ¦µ', meaning: 'ê±¸ì„ ë•Œ ì‚¬ìš©í•˜ëŠ” ëª¸ì˜ ë¶€ë¶„' },
                { word: 'ë¼ë©´', syllables: ['ë¼', 'ë©´'], image: 'ğŸœ', meaning: 'ë§›ìˆëŠ” ë©´ ìš”ë¦¬' },
                { word: 'ë§ˆìŒ', syllables: ['ë§ˆ', 'ìŒ'], image: 'â¤ï¸', meaning: 'ì‚¬ë‘í•˜ëŠ” ê¸°ë¶„' },
                { word: 'ë°”ë‹¤', syllables: ['ë°”', 'ë‹¤'], image: 'ğŸŒŠ', meaning: 'ë„“ê³  í‘¸ë¥¸ ë¬¼' },
                { word: 'ì‚¬ê³¼', syllables: ['ì‚¬', 'ê³¼'], image: 'ğŸ', meaning: 'ë¹¨ê°„ ê³¼ì¼' },
                { word: 'ì•„ê¸°', syllables: ['ì•„', 'ê¸°'], image: 'ğŸ‘¶', meaning: 'ì‘ê³  ê·€ì—¬ìš´ ì‚¬ëŒ' }
            ]
        };
        
        // ìº”ë²„ìŠ¤ ì´ˆê¸°í™”
        let canvas, ctx;
        
        document.addEventListener('DOMContentLoaded', () => {
            canvas = document.getElementById('writingCanvas');
            ctx = canvas.getContext('2d');
            
            // ìº”ë²„ìŠ¤ ì„¤ì •
            ctx.strokeStyle = '#2563eb';
            ctx.lineWidth = 3;
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
            
            // í„°ì¹˜ ë° ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ ë“±ë¡
            setupCanvasEvents();
            
            // ì´ˆê¸° ë°ì´í„° ë¡œë“œ
            selectLevel('consonant');
            updateLearningData();
            
            setTimeout(() => {
                updateTutorMessage('ğŸ‘‹ í™˜ì˜í•´ìš”!', 
                    'í•œê¸€ ì“°ê¸° ì—°ìŠµì„ ì‹œì‘í•´ë´ìš”! ìº”ë²„ìŠ¤ì— ì§ì ‘ ì¨ë³´ê³  ë¬¸ì œë„ í’€ì–´ë³´ì„¸ìš”! âœï¸âœ¨');
            }, 1000);
        });
        
        // ìº”ë²„ìŠ¤ ì´ë²¤íŠ¸ ì„¤ì •
        function setupCanvasEvents() {
            // ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸
            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);
            
            // í„°ì¹˜ ì´ë²¤íŠ¸
            canvas.addEventListener('touchstart', handleTouch);
            canvas.addEventListener('touchmove', handleTouch);
            canvas.addEventListener('touchend', stopDrawing);
        }
        
        // ê·¸ë¦¬ê¸° ì‹œì‘
        function startDrawing(e) {
            isDrawing = true;
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            ctx.beginPath();
            ctx.moveTo(x, y);
        }
        
        // ê·¸ë¦¬ê¸°
        function draw(e) {
            if (!isDrawing) return;
            
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            ctx.lineTo(x, y);
            ctx.stroke();
        }
        
        // ê·¸ë¦¬ê¸° ì¤‘ì§€
        function stopDrawing() {
            isDrawing = false;
            ctx.beginPath();
        }
        
        // í„°ì¹˜ ì´ë²¤íŠ¸ ì²˜ë¦¬
        function handleTouch(e) {
            e.preventDefault();
            const touch = e.touches[0];
            const mouseEvent = new MouseEvent(e.type === 'touchstart' ? 'mousedown' : 
                                            e.type === 'touchmove' ? 'mousemove' : 'mouseup', {
                clientX: touch.clientX,
                clientY: touch.clientY
            });
            canvas.dispatchEvent(mouseEvent);
        }
        
        // ìº”ë²„ìŠ¤ ì§€ìš°ê¸°
        function clearCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }
        
        // ê°€ì´ë“œ í† ê¸€
        function toggleGuide() {
            guideVisible = !guideVisible;
            const guideOverlay = document.getElementById('guideOverlay');
            guideOverlay.style.display = guideVisible ? 'flex' : 'none';
            
            if (guideVisible) {
                const currentData = learningData[currentLevel][currentItemIndex];
                if (currentLevel === 'combination') {
                    guideOverlay.textContent = currentData.result;
                } else if (currentLevel === 'word') {
                    guideOverlay.textContent = currentData.word;
                } else {
                    guideOverlay.textContent = currentData.letter;
                }
            }
        }
        
        // í† ê¸€ ì„¹ì…˜ ì œì–´
        function toggleSection(sectionId) {
            const section = document.getElementById(sectionId);
            const arrow = document.getElementById(sectionId.replace('Section', 'Arrow'));
            
            if (section.classList.contains('show')) {
                section.classList.remove('show');
                arrow.classList.remove('rotate');
            } else {
                section.classList.add('show');
                arrow.classList.add('rotate');
            }
        }
        
        // ë ˆë²¨ ì„ íƒ
        function selectLevel(level) {
            // ë ˆë²¨ ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
            document.querySelectorAll('.level-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            currentLevel = level;
            currentItemIndex = 0;
            currentRepeat = 1;
            
            updateContent();
            updateLevelMessage();
            generateRandomChoices();
            clearCanvas();
        }
        
        // ë ˆë²¨ë³„ ë©”ì‹œì§€ ì—…ë°ì´íŠ¸
        function updateLevelMessage() {
            const currentData = learningData[currentLevel][currentItemIndex];
            const messages = {
                consonant: {
                    title: 'ììŒ ì“°ê¸° ì—°ìŠµ',
                    subtitle: `ê¸°ì´ˆ ììŒ '${currentData.letter}' ì“°ê¸° ì—°ìŠµ`,
                    message: `ììŒ '${currentData.letter}'ì„ ìº”ë²„ìŠ¤ì— ì¨ë³´ê³  ë¬¸ì œë„ í’€ì–´ë³´ì„¸ìš”! ${currentData.example} ğŸ“š`
                },
                vowel: {
                    title: 'ëª¨ìŒ ì“°ê¸° ì—°ìŠµ', 
                    subtitle: `ê¸°ì´ˆ ëª¨ìŒ '${currentData.letter}' ì“°ê¸° ì—°ìŠµ`,
                    message: `ëª¨ìŒ '${currentData.letter}'ì„ ìº”ë²„ìŠ¤ì— ì¨ë³´ê³  ë¬¸ì œë„ í’€ì–´ë³´ì„¸ìš”! ${currentData.example} ğŸµ`
                },
                combination: {
                    title: 'ê¸€ì ì“°ê¸° ì—°ìŠµ',
                    subtitle: `'${currentData.result}' ê¸€ì ì“°ê¸° ì—°ìŠµ`,
                    message: `'${currentData.result}' ê¸€ìë¥¼ ìº”ë²„ìŠ¤ì— ì¨ë³´ê³  ë¬¸ì œë„ í’€ì–´ë³´ì„¸ìš”! ${currentData.meaning} âœ¨`
                },
                word: {
                    title: 'ë‹¨ì–´ ì“°ê¸° ì—°ìŠµ',
                    subtitle: `'${currentData.word}' ë‹¨ì–´ ì“°ê¸° ì—°ìŠµ`,
                    message: `'${currentData.word}' ë‹¨ì–´ë¥¼ ìº”ë²„ìŠ¤ì— ì¨ë³´ê³  ë¬¸ì œë„ í’€ì–´ë³´ì„¸ìš”! ${currentData.meaning} ğŸ†`
                }
            };
            
            const levelInfo = messages[currentLevel];
            document.getElementById('lessonTitle').textContent = levelInfo.title;
            document.getElementById('lessonSubtitle').textContent = levelInfo.subtitle;
            updateTutorMessage(levelInfo.title, levelInfo.message);
        }
        
        // ì½˜í…ì¸  ì—…ë°ì´íŠ¸
        function updateContent() {
            const currentData = learningData[currentLevel][currentItemIndex];
            
            // íƒ€ê²Ÿ ê¸€ì ì—…ë°ì´íŠ¸
            let targetText, hintText;
            
            switch(currentLevel) {
                case 'consonant':
                case 'vowel':
                    targetText = currentData.letter;
                    hintText = currentData.example;
                    break;
                case 'combination':
                    targetText = currentData.result;
                    hintText = currentData.meaning;
                    break;
                case 'word':
                    targetText = currentData.word;
                    hintText = currentData.meaning;
                    break;
            }
            
            document.getElementById('targetLetter').textContent = targetText;
            document.getElementById('targetChoice').textContent = targetText;
            document.getElementById('hintText').textContent = hintText;
            document.getElementById('hintImage').textContent = currentData.image;
            
            // ê°€ì´ë“œ ì˜¤ë²„ë ˆì´ ì—…ë°ì´íŠ¸
            if (guideVisible) {
                document.getElementById('guideOverlay').textContent = targetText;
            }
            
            updateProgressBar();
            updateRepeatStatus();
        }
        
        // ëœë¤ ì„ íƒì§€ ìƒì„±
        function generateRandomChoices() {
            const container = document.getElementById('practiceChoices');
            const currentData = learningData[currentLevel];
            const currentItem = currentData[currentItemIndex];
            
            // ì •ë‹µ ê²°ì •
            let correctAnswer;
            switch(currentLevel) {
                case 'consonant':
                case 'vowel':
                    correctAnswer = currentItem.letter;
                    break;
                case 'combination':
                    correctAnswer = currentItem.result;
                    break;
                case 'word':
                    correctAnswer = currentItem.word;
                    break;
            }
            
            // ì˜¤ë‹µ ì„ íƒì§€ ìƒì„± (3ê°œ)
            let wrongAnswers = [];
            const allItems = [...currentData];
            allItems.splice(currentItemIndex, 1); // í˜„ì¬ í•­ëª© ì œê±°
            
            // ëœë¤í•˜ê²Œ 3ê°œ ì„ íƒ
            const shuffled = allItems.sort(() => Math.random() - 0.5);
            wrongAnswers = shuffled.slice(0, 3).map(item => {
                switch(currentLevel) {
                    case 'consonant':
                    case 'vowel':
                        return item.letter;
                    case 'combination':
                        return item.result;
                    case 'word':
                        return item.word;
                    default:
                        return item.letter;
                }
            });
            
            // ì „ì²´ ì„ íƒì§€ (ì •ë‹µ + ì˜¤ë‹µ 3ê°œ) ëœë¤ ë°°ì¹˜
            const allChoices = [correctAnswer, ...wrongAnswers].sort(() => Math.random() - 0.5);
            
            container.innerHTML = '';
            
            allChoices.forEach(choice => {
                const choiceBtn = document.createElement('button');
                choiceBtn.className = 'choice-btn';
                choiceBtn.textContent = choice;
                choiceBtn.onclick = () => selectChoice(choice, correctAnswer);
                container.appendChild(choiceBtn);
            });
            
            // ë¬¸ì œ ì‹œì‘ ì‹œê°„ ê¸°ë¡
            startTime = Date.now();
        }
        
        // ì„ íƒ ì²˜ë¦¬
        function selectChoice(selectedChoice, correctAnswer) {
            const isCorrect = selectedChoice === correctAnswer;
            const responseTime = Date.now() - startTime;
            const buttons = document.querySelectorAll('.choice-btn');
            
            // ëª¨ë“  ë²„íŠ¼ ë¹„í™œì„±í™”
            buttons.forEach(btn => {
                btn.style.pointerEvents = 'none';
                btn.classList.remove('correct', 'incorrect');
            });
            
            // ì„ íƒëœ ë²„íŠ¼ì— í”¼ë“œë°± ì ìš©
            const selectedButton = Array.from(buttons).find(btn => 
                btn.textContent === selectedChoice
            );
            
            if (selectedButton) {
                selectedButton.classList.add(isCorrect ? 'correct' : 'incorrect');
            }
            
            // í•™ìŠµ ë°ì´í„° ê¸°ë¡
            learningStats.totalProblems++;
            if (isCorrect) {
                learningStats.correctProblems++;
            }
            learningStats.responseTimes.push(responseTime);
            learningStats.problemLog.push({
                level: currentLevel,
                item: currentItemIndex,
                question: correctAnswer,
                answer: selectedChoice,
                isCorrect: isCorrect,
                responseTime: responseTime,
                timestamp: new Date().toISOString()
            });
            
            updateLearningData();
            
            if (isCorrect) {
                updateTutorMessage('ğŸ‰ ì •ë‹µì´ì—ìš”!', 
                    `"${selectedChoice}"ë¥¼ ì •í™•íˆ ì°¾ì•˜ë„¤ìš”! ì •ë§ ì˜í–ˆì–´ìš”! ğŸ‘`);
                setTimeout(() => {
                    markActivity(true);
                    resetChoices();
                }, 1500);
            } else {
                updateTutorMessage('ğŸ˜Š ë‹¤ì‹œ ìƒê°í•´ë³´ì„¸ìš”!', 
                    `ì¡°ê¸ˆ ë‹¤ë¥¸ ê²ƒ ê°™ì•„ìš”. ì •ë‹µì€ "${correctAnswer}"ì´ì—ìš”! ğŸ’¡`);
                setTimeout(() => {
                    resetChoices();
                }, 2000);
            }
        }
        
        // ì„ íƒì§€ ë¦¬ì…‹
        function resetChoices() {
            const buttons = document.querySelectorAll('.choice-btn');
            buttons.forEach(btn => {
                btn.classList.remove('correct', 'incorrect');
                btn.style.pointerEvents = 'auto';
            });
            
            // ìƒˆë¡œìš´ ëœë¤ ì„ íƒì§€ ìƒì„±
            generateRandomChoices();
        }
        
        // ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
        function updateProgressBar() {
            const totalItems = learningData[currentLevel].length;
            const progress = ((currentItemIndex + (currentRepeat - 1) / repeatSettings.correct) / totalItems) * 100;
            document.getElementById('progressFill').style.width = Math.min(progress, 100) + '%';
        }
        
        // ë°˜ë³µ ìƒíƒœ ì—…ë°ì´íŠ¸
        function updateRepeatStatus() {
            const maxRepeat = repeatSettings.correct;
            document.getElementById('repeatStatus').textContent = `ë°˜ë³µ: ${currentRepeat}/${maxRepeat}`;
        }
        
        // í•™ìŠµ ë°ì´í„° ì—…ë°ì´íŠ¸
        function updateLearningData() {
            const accuracyRate = learningStats.totalProblems > 0 ? 
                Math.round((learningStats.correctProblems / learningStats.totalProblems) * 100) : 0;
            
            const avgTime = learningStats.responseTimes.length > 0 ?
                Math.round(learningStats.responseTimes.reduce((a, b) => a + b, 0) / learningStats.responseTimes.length / 1000) : 0;
            
            document.getElementById('accuracyRate').textContent = accuracyRate + '%';
            document.getElementById('totalProblems').textContent = learningStats.totalProblems;
            document.getElementById('correctProblems').textContent = learningStats.correctProblems;
            document.getElementById('avgTime').textContent = avgTime + 'ì´ˆ';
        }
        
        // ë°˜ë³µ íšŒìˆ˜ ì¡°ì •
        function adjustRepeat(type, delta) {
            const newValue = repeatSettings[type] + delta;
            if (newValue >= 1 && newValue <= 10) {
                repeatSettings[type] = newValue;
                document.getElementById(type + 'Repeat').textContent = newValue;
                
                updateTutorMessage('ì„¤ì • ë³€ê²½', 
                    `${type === 'correct' ? 'ë§ì·„ì„ ë•Œ' : 'í‹€ë ¸ì„ ë•Œ'} ë°˜ë³µ íšŸìˆ˜ê°€ ${newValue}íšŒë¡œ ì„¤ì •ë˜ì—ˆì–´ìš”! ğŸ‘`);
                
                updateProgressBar();
                updateRepeatStatus();
            }
        }
        
        // í™œë™ í‰ê°€
        function markActivity(isCorrect) {
            if (isCorrect) {
                if (currentRepeat < repeatSettings.correct) {
                    currentRepeat++;
                    updateRepeatStatus();
                    updateProgressBar();
                    showFeedback(true, false);
                } else {
                    showFeedback(true, true);
                    setTimeout(() => nextItem(), 2000);
                }
            } else {
                currentRepeat = Math.min(currentRepeat + 1, repeatSettings.incorrect);
                updateRepeatStatus();
                showFeedback(false, false);
            }
        }
        
        // ë‹¤ìŒ í•­ëª©
        function nextItem() {
            const maxIndex = learningData[currentLevel].length - 1;
            
            if (currentItemIndex < maxIndex) {
                currentItemIndex++;
                currentRepeat = 1;
                updateContent();
                updateLevelMessage();
                generateRandomChoices();
                clearCanvas();
            } else {
                showLevelComplete();
            }
        }
        
        // ë ˆë²¨ ì™„ë£Œ í‘œì‹œ
        function showLevelComplete() {
            const levelNames = {
                consonant: 'ììŒ ì“°ê¸°',
                vowel: 'ëª¨ìŒ ì“°ê¸°',
                combination: 'ê¸€ì ì“°ê¸°',
                word: 'ë‹¨ì–´ ì“°ê¸°'
            };
            
            updateTutorMessage('ğŸ† ë ˆë²¨ ì™„ë£Œ!', 
                `${levelNames[currentLevel]} ë‹¨ê³„ë¥¼ ëª¨ë‘ ì™„ë£Œí–ˆì–´ìš”! ì •ë§ ëŒ€ë‹¨í•´ìš”! ë‹¤ë¥¸ ë‹¨ê³„ë„ ë„ì „í•´ë³´ì„¸ìš”! ğŸ‰`);
        }
        
        // í”¼ë“œë°± í‘œì‹œ
        function showFeedback(isCorrect, isComplete) {
            const overlay = document.getElementById('feedbackOverlay');
            const icon = document.getElementById('feedbackIcon');
            const text = document.getElementById('feedbackText');
            
            if (isCorrect) {
                if (isComplete) {
                    icon.textContent = 'ğŸ†';
                    text.textContent = 'ì´ ê¸€ìë¥¼ ì™„ë²½í•˜ê²Œ ë°°ì› ì–´ìš”!';
                } else {
                    icon.textContent = 'âœ¨';
                    text.textContent = 'ì˜í–ˆì–´ìš”! í•œ ë²ˆ ë” í•´ë´ìš”!';
                }
            } else {
                icon.textContent = 'ğŸ’ª';
                text.textContent = 'ê´œì°®ì•„ìš”! ë‹¤ì‹œ ë„ì „í•´ë´ìš”!';
            }
            
            overlay.style.display = 'flex';
            setTimeout(() => closeFeedback(), 2000);
        }
        
        // í”¼ë“œë°± ë‹«ê¸°
        function closeFeedback() {
            document.getElementById('feedbackOverlay').style.display = 'none';
        }
        
        // AI íŠœí„° ë©”ì‹œì§€ ì—…ë°ì´íŠ¸
        function updateTutorMessage(title, message) {
            const tutorMessage = document.getElementById('tutorMessage');
            tutorMessage.innerHTML = `<strong>${title}</strong><br><br>${message}`;
        }
        
        // ë„ì›€ë§
        function getTutorHelp() {
            const helpMessages = {
                consonant: 'ììŒì„ ìº”ë²„ìŠ¤ì— ì§ì ‘ ì¨ë³´ì„¸ìš”! ê°€ì´ë“œ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì—°í•œ ê¸€ìê°€ ë‚˜íƒ€ë‚˜ìš”. ê·¸ ìœ„ì— ë”°ë¼ ì¨ë³´ì„¸ìš”!',
                vowel: 'ëª¨ìŒì„ ìº”ë²„ìŠ¤ì— ì§ì ‘ ì¨ë³´ì„¸ìš”! íšìˆœì„ ìƒê°í•˜ë©´ì„œ ì²œì²œíˆ ì¨ë³´ì„¸ìš”!',
                combination: 'ììŒê³¼ ëª¨ìŒì´ í•©ì³ì§„ ê¸€ìë¥¼ ì¨ë³´ì„¸ìš”! ì–´ë–»ê²Œ ì¡°í•©ë˜ëŠ”ì§€ ì˜ ë³´ì„¸ìš”!',
                word: 'ì™„ì „í•œ ë‹¨ì–´ë¥¼ ì¨ë³´ì„¸ìš”! ê° ê¸€ìì˜ ê°„ê²©ë„ ìƒê°í•˜ë©´ì„œ ì¨ë³´ì„¸ìš”!'
            };
            
            updateTutorMessage('ğŸ’¡ ë„ì›€ë§', helpMessages[currentLevel]);
        }
        
        // ì½˜ì†”ì— í•™ìŠµ ë°ì´í„° ì¶œë ¥ (ê°œë°œììš©)
        function exportLearningData() {
            console.log('=== í•™ìŠµ ë°ì´í„° ===');
            console.log('ì´ ë¬¸ì œ ìˆ˜:', learningStats.totalProblems);
            console.log('ì •ë‹µ ìˆ˜:', learningStats.correctProblems);
            console.log('ì •ë‹µë¥ :', Math.round((learningStats.correctProblems / learningStats.totalProblems) * 100) + '%');
            console.log('í‰ê·  ì‘ë‹µ ì‹œê°„:', Math.round(learningStats.responseTimes.reduce((a, b) => a + b, 0) / learningStats.responseTimes.length) + 'ms');
            console.log('ì„¸ë¶€ ë¡œê·¸:', learningStats.problemLog);
            return learningStats;
        }
        
        // ì „ì—­ì—ì„œ ë°ì´í„° ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡
        window.exportLearningData = exportLearningData;
    </script>
</body>
</html>